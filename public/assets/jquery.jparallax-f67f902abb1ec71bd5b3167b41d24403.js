(function(a){function b(a){var b=a.replace(".html","");return b.replace("#","")}function c(a){a.xorigin=="left"?a.xorigin=0:a.xorigin=="middle"||a.xorigin=="centre"||a.xorigin=="center"?a.xorigin=.5:a.xorigin=="right"&&(a.xorigin=1),a.yorigin=="top"?a.yorigin=0:a.yorigin=="middle"||a.yorigin=="centre"||a.yorigin=="center"?a.yorigin=.5:a.yorigin=="bottom"&&(a.yorigin=1)}function d(a,b,c){var d={x:0,y:0,sum:0};a.ontarget?(c.x=b.x,c.y=b.y):(d.x=c.x-b.x,d.y=c.y-b.y,d.sum=Math.sqrt(d.x*d.x+d.y*d.y),c.x=b.x+d.x*a.takeoverFactor,c.y=b.y+d.y*a.takeoverFactor,d.sum<a.takeoverThresh&&d.sum>a.takeoverThresh*-1&&(a.ontarget=!0))}function e(b,c){var d=c.element.offset();a.extend(b,{width:b.element.width(),height:b.element.height()}),a.extend(c,{width:c.element.width(),height:c.element.height(),top:d.top,left:d.left})}function f(a,b,c){var d,e;if(typeof a=="string"){if(a.search(/^\d+\s?px$/)!=-1)return a=a.replace("px",""),a=parseInt(a,10),d=b*(c-a),e=b*100+"%",{travel:a,travelpx:!0,offset:d,cssPos:e};a.search(/^\d+\s?%$/)!=-1?(a.replace("%",""),a=parseInt(a,10)/100):a=1}return d=b*(1-a),{travel:a,travelpx:!1,offset:d}}function g(b,c,d){var e,g,h={};b[c]=a.extend({},{width:b[c].element.width(),height:b[c].element.height()},b[c]),e=f(b[c].xtravel,b[c].xorigin,b[c].width),g=f(b[c].ytravel,b[c].yorigin,b[c].height),a.extend(b[c],{diffxrat:d.width/(b[c].width-d.width),diffyrat:d.height/(b[c].height-d.height),xtravel:e.travel,ytravel:g.travel,xtravelpx:e.travelpx,ytravelpx:g.travelpx,xoffset:e.offset,yoffset:g.offset}),e.travelpx&&(h.left=e.cssPos),g.travelpx&&(h.top=g.cssPos),(e.travelpx||g.travelpx)&&b[c].element.css(h)}function h(b,c,d){var e;a.extend(b[c],{content:[]});for(var f=0;f<b[c].element.children().length;f++)b[c].content[f]||(b[c].content[f]={}),b[c].content[f].element||(b[c].content[f].element=b[c].element.children().eq(f)),!b[c].content[f].anchor&&b[c].content[f].element.children("a").attr("name")&&(b[c].content[f].anchor=b[c].content[f].element.children("a").attr("name")),b[c].content[f].anchor&&(e=b[c].content[f].element.offset(),a.extend(b[c].content[f],{width:b[c].content[f].element.width(),height:b[c].content[f].element.height(),x:e.left-d.left,y:e.top-d.top}),a.extend(b[c].content[f],{posxrat:(b[c].content[f].x+b[c].content[f].width/2)/b[c].width,posyrat:(b[c].content[f].y+b[c].content[f].height/2)/b[c].height}))}function i(a,b,c){var d,e,f;for(var g=0;g<a.length;g++)d=a[g].xtravel*b+a[g].xoffset,e=a[g].ytravel*c+a[g].yoffset,f={},a[g].xparallax&&(a[g].xtravelpx?f.marginLeft=d*-1+"px":(f.left=d*100+"%",f.marginLeft=d*a[g].width*-1+"px")),a[g].yparallax&&(a[g].ytravelpx?f.marginTop=e*-1+"px":(f.top=e*100+"%",f.marginTop=e*a[g].height*-1+"px")),a[g].element.css(f)}a.fn.jparallax=function(c){var f=a().extend({},a.fn.jparallax.settings,c),j={xparallax:f.xparallax,yparallax:f.yparallax,xorigin:f.xorigin,yorigin:f.yorigin,xtravel:f.xtravel,ytravel:f.ytravel},k={element:f.mouseport,takeoverFactor:f.takeoverFactor,takeoverThresh:f.takeoverThresh};f.mouseport&&(k.element=f.mouseport);var l=[];for(var m=1;m<arguments.length;m++)l.push(a.extend({},j,arguments[m]));return this.each(function(){function r(a,b,c){for(var d=0;d<a.length;d++){var e=!1;for(var f=0;f<a[d].content.length;f++)if(a[d].content[f].anchor==b)return c(d,f),[d,f]}return!1}var c={x:.5,y:.5},m={x:.5,y:.5},n={running:!1,frame:f.frameDuration,fire:function(a,b){d(p,c,m),i(q,m.x,m.y),this.running=setTimeout(function(){c.x!=a||c.y!=b||!p.ontarget?n.fire(c.x,c.y):n.running&&(n.running=!1)},n.frame)}},o={element:a(this)},p=a.extend({},{element:o.element},k,{xinside:!1,yinside:!1,active:!1,ontarget:!1}),q=[];e(o,p);for(var s=0;s<o.element.children().length;s++)q[s]=a.extend({},j,l[s],{element:o.element.children("*:eq("+s+")")}),g(q,s,p),f.triggerResponse&&h(q,s,o.element.offset());o.element.children().css("position","absolute"),i(q,.5,.5),f.mouseResponse&&a().mousemove(function(a){p.xinside=a.pageX>=p.left&&a.pageX<p.width+p.left?!0:!1,p.yinside=a.pageY>=p.top&&a.pageY<p.height+p.top?!0:!1,p.xinside&&p.yinside&&!p.active&&(p.ontarget=!1,p.active=!0),p.active&&(p.xinside?c.x=(a.pageX-p.left)/p.width:c.x=a.pageX<p.left?0:1,p.yinside?c.y=(a.pageY-p.top)/p.height:c.y=a.pageY<p.top?0:1),p.xinside&&p.yinside?n.running||n.fire(c.x,c.y):p.active&&(p.active=!1)}),f.triggerResponse&&o.element.bind("jparallax",function(a,d){d=b(d),r(q,d,function(a,b){c.x=q[a].content[b].posxrat*(q[a].diffxrat+1)-.5*q[a].diffxrat,c.y=q[a].content[b].posyrat*(q[a].diffyrat+1)-.5*q[a].diffyrat,f.triggerExposesEdges||(c.x<0&&(c.x=0),c.x>1&&(c.x=1),c.y<0&&(c.y=0),c.y>1&&(c.y=1)),p.ontarget=!1,n.running||n.fire(c.x,c.y)})}),a(window).resize(function(){e(o,p);for(var a=0;a<q.length;a++)g(q,a,p)})})},a.fn.jparallax.settings={mouseResponse:!0,mouseActiveOutside:!1,triggerResponse:!0,triggerExposesEdges:!1,xparallax:!0,yparallax:!0,xorigin:.5,yorigin:.5,xtravel:1,ytravel:1,takeoverFactor:.65,takeoverThresh:.002,frameDuration:25},c(a.fn.jparallax.settings),a(function(){})})(jQuery);